<Project>
  <Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk"/>

  <PropertyGroup>
    <Description>MSBuild integration for the Yarn package manager.

Automatically installs Node modules into web projects. This uses yarn, an alternative package manager to NPM.

This package bundles a complete copy of Yarn $(YarnVersion). If don't want the bundled version and would rather provide your own,
use the Yarn.MSBuild.Min package.
    </Description>
    <TargetFrameworks>netstandard1.0</TargetFrameworks>
    <TargetFrameworks Condition="'$(OS)' == 'Windows_NT'">$(TargetFrameworks);net461</TargetFrameworks>
    <DisableImplicitFrameworkReferences>true</DisableImplicitFrameworkReferences>
    <IncludeBuildOutput>false</IncludeBuildOutput>
    <DefaultItemExcludes>$(DefaultItemExcludes);$(MSBuildThisFileDirectory)dist\**\*</DefaultItemExcludes>
  </PropertyGroup>

  <ItemGroup>
    <!-- The NuGet placeholder ensures this packages is treated as compatible .NET Standard 1.0 -->
    <Content Include="_._" PackagePath="lib/netstandard1.0/" />
    <Content Include="build\**\*" PackagePath="%(Identity)" />
    <Content Include="buildMultiTargeting\**\*" PackagePath="%(Identity)" />
    <YarnDist Include="dist\**\*" PackagePath="%(Identity)" />
    <Content Include="@(YarnDist)" />
    <Content Include="third_party_notice.txt" PackagePath="/" />
    <ProjectReference Include="..\Yarn.MSBuild.Min\Yarn.MSBuild.Min.csproj" PrivateAssets="None" />
  </ItemGroup>

  <Target Name="EnsureDistFiles" BeforeTargets="GenerateNuspec">
    <Error Text="Could not find files in dist/ to include in the package" Condition="@(YarnDist->Count()) == 0" />
  </Target>

  <Import Project="Sdk.targets" Sdk="Microsoft.NET.Sdk"/>

  <Target Name="CoreCompile" />
  <Target Name="CopyFilesToOutputDirectory" />

</Project>
